<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Classes  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset="utf-8">
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>

    <a name="//apple_ref/swift/Section/Classes" class="dashAnchor"></a>

    <a title="Classes  Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="index.html">
          Cauliframework Docs
        </a>
         (100% documented)
      </p>
    
      <p class="header-col--secondary">
        <form role="search" action="search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/cauliframework/cauli">
            <img class="header-icon" src="img/gh.png"/>
            View on GitHub
          </a>
        </p>
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="index.html">Cauliframework Reference</a>
      <img class="carat" src="img/carat.png" />
      Classes  Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Guides.html">Guides</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="architecture.html">Architecture</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="configuring-cauli.html">Configuring Cauli</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="florets.html">Florets</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="frequently-asked-questions.html">Frequently Asked Questions</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="writing-your-own-plugin.html">Writing Your Own Plugin</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Cauli.html">Cauli</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/FindReplaceFloret.html">FindReplaceFloret</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/HTTPBodyStreamFloret.html">HTTPBodyStreamFloret</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/InspectorFloret.html">InspectorFloret</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MockFloret.html">MockFloret</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MockFloret/Mode.html">– Mode</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MockFloret.html#/s:14Cauliframework10MockFloretC7MappingV">– Mapping</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/NoCacheFloret.html">NoCacheFloret</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/Result.html">Result</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/StorageCapacity.html">StorageCapacity</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/NSError.html">NSError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/NSError/Cauli.html">– Cauli</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/UIWindow.html">UIWindow</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/DisplayingFloret.html">DisplayingFloret</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/Floret.html">Floret</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/InterceptingFloret.html">InterceptingFloret</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/Storage.html">Storage</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Configuration.html">Configuration</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Record.html">Record</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/RecordModifier.html">RecordModifier</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/RecordSelector.html">RecordSelector</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Response.html">Response</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content">
            <h1>Classes</h1>
            <p>The following classes are available globally.</p>

          </div>
        </section>

        <section class="section">
          <div class="section-content">
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:14Cauliframework5CauliC"></a>
                    <a name="//apple_ref/swift/Class/Cauli" class="dashAnchor"></a>
                    <a class="token" href="#/s:14Cauliframework5CauliC">Cauli</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The Cauli class is the starting point of the Cauli framework.
Use the perconfigured <code><a href="Classes/Cauli.html#/s:14Cauliframework5CauliC6sharedACvpZ">Cauli.shared</a></code> or create your own instance.
Please check the Readme.md for more information.</p>

                        <a href="Classes/Cauli.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">class</span> <span class="kt">Cauli</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:14Cauliframework17FindReplaceFloretC"></a>
                    <a name="//apple_ref/swift/Class/FindReplaceFloret" class="dashAnchor"></a>
                    <a class="token" href="#/s:14Cauliframework17FindReplaceFloretC">FindReplaceFloret</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A <code>FindReplaceFloret</code> uses <code><a href="Structs/RecordModifier.html">RecordModifier</a></code>s to modify a <code><a href="Structs/Record.html">Record</a></code>
before sending a request and after receiving a response. Use multiple
instances of the <code>FindReplaceFloret</code>s to group certain RecordModifiers
under a given name.</p>

                        <a href="Classes/FindReplaceFloret.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">class</span> <span class="kt">FindReplaceFloret</span> <span class="p">:</span> <span class="kt"><a href="Protocols/InterceptingFloret.html">InterceptingFloret</a></span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:14Cauliframework20HTTPBodyStreamFloretC"></a>
                    <a name="//apple_ref/swift/Class/HTTPBodyStreamFloret" class="dashAnchor"></a>
                    <a class="token" href="#/s:14Cauliframework20HTTPBodyStreamFloretC">HTTPBodyStreamFloret</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The <code>HTTPBodyStreamFloret</code> can modify a <code><a href="Structs/Record.html">Record</a></code> where the request uses a <code>httpBodyStream</code>
instead of setting the data on the request itself.
It will read all data from the stream and set it as data on the request. This is helpful
if you want to inspect <code><a href="Structs/Record.html">Record</a></code>s in the storage or want to modify the requests body
before it is sent to the server.</p>

                        <a href="Classes/HTTPBodyStreamFloret.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">class</span> <span class="kt">HTTPBodyStreamFloret</span> <span class="p">:</span> <span class="kt"><a href="Protocols/InterceptingFloret.html">InterceptingFloret</a></span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:14Cauliframework15InspectorFloretC"></a>
                    <a name="//apple_ref/swift/Class/InspectorFloret" class="dashAnchor"></a>
                    <a class="token" href="#/s:14Cauliframework15InspectorFloretC">InspectorFloret</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The InspectorFloret lets you browse through and share your requests and responses from within the application. Just open <code><a href="Classes/Cauli.html">Cauli</a></code>s viewController.</p>

<p>You can</p>

<ul>
<li>browse through all stored <code>Records</code>.</li>
<li>inspect details of a <code><a href="Structs/Record.html">Record</a></code>.</li>
<li>share details of a <code><a href="Structs/Record.html">Record</a></code>.</li>
<li>filter <code><a href="Structs/Record.html">Record</a></code>s by the request URL.</li>
</ul>

                        <a href="Classes/InspectorFloret.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">class</span> <span class="kt">InspectorFloret</span> <span class="p">:</span> <span class="kt"><a href="Protocols/DisplayingFloret.html">DisplayingFloret</a></span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:14Cauliframework10MockFloretC"></a>
                    <a name="//apple_ref/swift/Class/MockFloret" class="dashAnchor"></a>
                    <a class="token" href="#/s:14Cauliframework10MockFloretC">MockFloret</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The MockFloret helps you to easily mock your network requests
for tests or to reproduce a bug.</p>
<h2 id='recording-requests' class='heading'>Recording Requests</h2>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">mockFloret</span> <span class="o">=</span> <span class="kt">MockFloret</span><span class="p">(</span><span class="nv">mode</span><span class="p">:</span> <span class="o">.</span><span class="n">record</span><span class="p">)</span>
</code></pre>

<p>If you create your MockFloret in recording mode it will record
all requests and their responses (depending on the Cauli configuration).
They will be serialized and stored in the document directory.
The exact path will be printed in the console as <q>`recoding to &hellip;`</q>.</p>
<h2 id='mocking-requests' class='heading'>Mocking Requests</h2>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">mockFloret</span> <span class="o">=</span> <span class="kt">MockFloret</span><span class="p">(</span><span class="nv">mode</span><span class="p">:</span> <span class="o">.</span><span class="n">mock</span><span class="p">)</span>
</code></pre>

<p>If you create your MockFloret in mock mode it will search for a <code>MockFloret</code>
folder in the bundle. If you used the record mode you can just copy over the
recorded <code>MockFloret</code> folder. Make sure to select <q>Create folder references</q> if
you drag the folder to Xcode.
For every request the MockFloret will then search in this folder if there is any
recorded response. If there are multiple it will return a random response.</p>
<h2 id='manual-response-mapping' class='heading'>Manual Response Mapping</h2>

<p>You can use the <code>addMapping</code> functions to manually map a request to a specific response.</p>
<pre class="highlight swift"><code><span class="c1">// Maps all requests for the host cauli.works to the response</span>
<span class="c1">// stored in the MockFloret/default/foo path.</span>
<span class="n">addMapping</span> <span class="p">{</span> <span class="n">request</span><span class="p">,</span> <span class="n">mockFloret</span> <span class="k">in</span>
    <span class="k">guard</span> <span class="n">request</span><span class="o">.</span><span class="n">url</span><span class="p">?</span><span class="o">.</span><span class="n">host</span> <span class="o">==</span> <span class="s">"cauli.works"</span> <span class="k">else</span> <span class="p">{</span> <span class="k">return</span> <span class="kc">nil</span> <span class="p">}</span>
    <span class="k">return</span> <span class="n">mockFloret</span><span class="o">.</span><span class="nf">resultForPath</span><span class="p">(</span><span class="s">"default/foo"</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// Maps all requests for the url path /api/florets to</span>
<span class="c1">// a Not Found (404) response.</span>
<span class="nf">addMapping</span><span class="p">(</span><span class="nv">forUrlPath</span><span class="p">:</span> <span class="s">"/api/florets"</span><span class="p">)</span> <span class="p">{</span> <span class="n">request</span><span class="p">,</span> <span class="n">_</span> <span class="k">in</span>
    <span class="kt">Result</span><span class="o">&lt;</span><span class="kt">Response</span><span class="o">&gt;.</span><span class="nf">notFound</span><span class="p">(</span><span class="nv">for</span><span class="p">:</span> <span class="n">request</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>

                        <a href="Classes/MockFloret.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">class</span> <span class="kt">MockFloret</span> <span class="p">:</span> <span class="kt"><a href="Protocols/InterceptingFloret.html">InterceptingFloret</a></span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:14Cauliframework13NoCacheFloretC"></a>
                    <a name="//apple_ref/swift/Class/NoCacheFloret" class="dashAnchor"></a>
                    <a class="token" href="#/s:14Cauliframework13NoCacheFloretC">NoCacheFloret</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The NoCacheFloret modifies the desigantedRequest and the response of a record
to prevent returning cached data or writing data to the cache.</p>

<p>On the designatedRequest it will:</p>

<ul>
<li>change the <strong>cachePolicy</strong> to <strong>.reloadIgnoringLocalCacheData</strong></li>
<li><strong>remove</strong> the value for the <strong>If-Modified-Since</strong> key on allHTTPHeaderFields</li>
<li><strong>remove</strong> the value for the <strong>If-None-Match</strong> key on allHTTPHeaderFields</li>
<li>change <strong>Cache-Control</strong> to <strong>no-cache</strong></li>
</ul>

<p>On the response it will:</p>

<ul>
<li><strong>remove</strong> the value for the <strong>Last-Modified</strong> key on allHTTPHeaderFields</li>
<li><strong>remove</strong> the value for the <strong>ETag</strong> key on allHTTPHeaderFields</li>
<li>change <strong>Expires</strong> to <strong>0</strong></li>
<li>change <strong>Cache-Control</strong> to <strong>no-cache</strong></li>
</ul>

                        <a href="Classes/NoCacheFloret.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">class</span> <span class="kt">NoCacheFloret</span> <span class="p">:</span> <span class="kt"><a href="Classes/FindReplaceFloret.html">FindReplaceFloret</a></span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </section>

      </article>
    </div>
    <section class="footer">
      <p>&copy; 2019 <a class="link" href="https://cauli.works" target="_blank" rel="external">Cornelius Horstmann and Pascal Stüdlein</a>. All rights reserved. (Last updated: 2019-03-03)</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.9.5</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
